"use strict";(self.webpackChunkteskalabs_training_ui_app=self.webpackChunkteskalabs_training_ui_app||[]).push([[724],{724:function(e,t,a){a.d(t,{default:function(){return o}});var l=a(8795),r=a(6540),n=a(5169),s=a(8492),i=a(4976);function c(e){const{t:t}=(0,s.B)(),a=(0,r.useMemo)((()=>[{title:t("TableHeader|Username"),thStyle:{minWidth:"3rem"},render:({row:e})=>r.createElement(i.Link,{to:`/detail/${e.id}`,title:e.id},r.createElement("button",{className:"btn btn-outline-primary w-100 "},r.createElement("i",{className:"bi bi-box-arrow-up-right pe-2"}),e.username))},{title:t("TableHeader|Created at"),thStyle:{minWidth:"4rem"},render:({row:e})=>r.createElement(l.DateTime,{value:e.created})},{title:t("TableHeader|Last sign in"),thStyle:{minWidth:"4rem"},render:({row:e})=>r.createElement(l.DateTime,{value:e.last_sign_in})},{title:t("TableHeader|Address"),thStyle:{minWidth:"4rem"},render:({row:e})=>r.createElement("span",null,e.address)}]),[t]),c=(0,r.useCallback)((async({params:e})=>{const t=`https://devtest.teskalabs.com/data?${new URLSearchParams({p:e.p,i:e.i}).toString()}`,a=await fetch(t),{data:l,count:r}=await a.json();return{count:r,rows:l}}),[]);return r.createElement(n.A,null,r.createElement(l.DataTableCard2,{app:e.app,columns:a,loader:c}))}var d=a(7767);function m(){const{id:e}=(0,d.useParams)(),[t,a]=(0,r.useState)(null),[n,c]=(0,r.useState)(!1),[m,o]=(0,r.useState)(null),{t:u}=(0,s.B)(),E=(0,r.useCallback)((async()=>{c(!0);const t=new URL(`https://devtest.teskalabs.com/detail/${e}`);try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const l=await e.json();a(l)}catch(e){console.error("Error fetching user detail:",e),o(e)}c(!1)}),[]);(0,r.useEffect)((()=>{E()}),[E]);const p=(0,r.useMemo)((()=>t?r.createElement("div",{className:"card text-start p-3 d-flex flex-column gap-1 fs-6"},r.createElement("div",{title:t.id},r.createElement("strong",null,u("DetailCard|Username"),":")," ",t.username),r.createElement("div",null,r.createElement("strong",null,u("DetailCard|Email"),":")," ",t.email),r.createElement("div",null,r.createElement("strong",null,u("DetailCard|Created at"),":")," ",r.createElement(l.DateTime,{value:t.created})),r.createElement("div",null,r.createElement("strong",null,u("DetailCard|Last sign in"),":")," ",r.createElement(l.DateTime,{value:t.last_sign_in})),r.createElement("div",null,r.createElement("strong",null,u("DetailCard|Address"),":")," ",t.address),r.createElement("div",null,r.createElement("strong",null,u("DetailCard|Phone"),":")," ",t.phone_number),r.createElement("div",null,r.createElement("strong",null,u("DetailCard|Ip address"),":")," ",t.ip_address),r.createElement("div",null,r.createElement("strong",null,u("DetailCard|Mac address"),":")," ",t.mac_address)):null),[t,u]);return r.createElement("div",{className:"card m-auto w-75 h-75"},r.createElement("div",{className:"card-header w-100 d-flex align-items-center"},r.createElement("div",{className:"float-start"},r.createElement(i.Link,{to:"/",className:"btn btn-outline-primary mb-2 me-auto"},r.createElement("i",{className:"bi bi-house fs-3 me-2"}),r.createElement("span",{className:"fs-4"},"Home"))),r.createElement("div",{className:"w-75 d-flex flex-row align-items-center justify-content-center gap-2 mb-2"},n&&r.createElement("div",{className:"spinner-border spinner-border-sm","aria-hidden":"true"}),r.createElement("h2",{className:"text-center fs-2"},u("DetailCard|User Detail Screen")))),r.createElement("div",{className:"h-100"},m&&r.createElement("div",{className:"alert alert-danger text-center fs-5"},u("DetailCard|Error fetching user details")),n&&r.createElement("div",{className:"text-center fs-5"},u("DetailCard|Loading user details...")),null!==t&&r.createElement(l.ResultCard,{body:p})))}class o extends l.Module{constructor(e,t){super(e,"TableApplicationModule"),e.Router.addRoute({path:"/",end:!1,name:"Table",component:c}),e.Router.addRoute({path:"/detail/:id",end:!0,name:"TableDetail",component:m}),e.Navigation.addItem({name:"Table",icon:"bi bi-table",url:"/"})}}}}]);