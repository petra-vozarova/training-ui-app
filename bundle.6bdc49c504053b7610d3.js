"use strict";(self.webpackChunkteskalabs_training_ui_app=self.webpackChunkteskalabs_training_ui_app||[]).push([[724],{724:function(e,t,a){a.d(t,{default:function(){return o}});var r=a(8795),l=a(6540),n=a(5169),s=a(8492),i=a(4976);function c(e){const{t:t}=(0,s.B)(),a=(0,l.useMemo)((()=>[{title:t("TableHeader|Username"),thStyle:{minWidth:"3rem"},render:({row:e})=>l.createElement(i.Link,{to:`/detail/${e.id}`,title:e.id},l.createElement("button",{className:"btn btn-outline-primary w-100 "},l.createElement("i",{className:"bi bi-box-arrow-up-right pe-2"}),e.username))},{title:t("TableHeader|Created at"),thStyle:{minWidth:"4rem"},render:({row:e})=>l.createElement(r.DateTime,{value:e.created})},{title:t("TableHeader|Last sign in"),thStyle:{minWidth:"4rem"},render:({row:e})=>l.createElement(r.DateTime,{value:e.last_sign_in})},{title:t("TableHeader|Address"),thStyle:{minWidth:"4rem"},render:({row:e})=>l.createElement("span",null,e.address)}]),[t]),c=(0,l.useCallback)((async({params:e})=>{const t=`https://devtest.teskalabs.com/data?${new URLSearchParams({p:e.p,i:e.i}).toString()}`,a=await fetch(t),{data:r,count:l}=await a.json();return{count:l,rows:r}}),[]);return l.createElement(n.A,null,l.createElement(r.DataTableCard2,{app:e.app,columns:a,loader:c}))}var d=a(7767);function m(){const{id:e}=(0,d.useParams)(),[t,a]=(0,l.useState)(null),[n,c]=(0,l.useState)(!1),[m,o]=(0,l.useState)(null),{t:u}=(0,s.B)(),E=(0,l.useCallback)((async()=>{c(!0);const t=new URL(`https://devtest.teskalabs.com/detail/${e}`);try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();a(r)}catch(e){console.error("Error fetching user detail:",e),o(e)}c(!1)}),[]);(0,l.useEffect)((()=>{E()}),[E]);const p=(0,l.useMemo)((()=>t?l.createElement("div",{className:"card text-start p-3 d-flex flex-column gap-1 "},l.createElement("div",{title:t.id},l.createElement("strong",null,u("DetailCard|Username"),":")," ",t.username),l.createElement("div",null,l.createElement("strong",null,u("DetailCard|Email"),":")," ",t.email),l.createElement("div",null,l.createElement("strong",null,u("DetailCard|Created at"),":")," ",l.createElement(r.DateTime,{value:t.created})),l.createElement("div",null,l.createElement("strong",null,u("DetailCard|Last sign in"),":")," ",l.createElement(r.DateTime,{value:t.last_sign_in})),l.createElement("div",null,l.createElement("strong",null,u("DetailCard|Address"),":")," ",t.address),l.createElement("div",null,l.createElement("strong",null,u("DetailCard|Phone"),":")," ",t.phone_number),l.createElement("div",null,l.createElement("strong",null,u("DetailCard|Ip address"),":")," ",t.ip_address),l.createElement("div",null,l.createElement("strong",null,u("DetailCard|Mac address"),":")," ",t.mac_address)):null),[t,u]);return l.createElement("div",{className:"card w-100 h-100"},l.createElement("div",{className:"card-header"},l.createElement(i.Link,{to:"/",className:"btn btn-outline-primary mb-3 float-start"},l.createElement("i",{className:"bi bi-house"})," Home"),l.createElement("div",{className:"d-flex flex-row align-items-center justify-content-center gap-2"},n&&l.createElement("div",{className:"spinner-border spinner-border-sm","aria-hidden":"true"}),l.createElement("h1",{className:"text-center"},u("DetailCard|User Detail Screen")))),l.createElement("div",{className:"h-100"},m&&l.createElement("div",{className:"alert alert-danger text-center"},u("DetailCard|Error fetching user details")),n&&l.createElement("div",{className:"text-center"},u("DetailCard|Loading user details...")),null!==t&&l.createElement(r.ResultCard,{body:p})))}class o extends r.Module{constructor(e,t){super(e,"TableApplicationModule"),e.Router.addRoute({path:"/",end:!1,name:"Table",component:c}),e.Router.addRoute({path:"/detail/:id",end:!0,name:"TableDetail",component:m}),e.Navigation.addItem({name:"Table",icon:"bi bi-table",url:"/"})}}}}]);